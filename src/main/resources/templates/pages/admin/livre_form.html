<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Ajouter un livre</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" th:href="@{/css/main.css}">
</head>

<body class="bg-gradient-to-br from-custom-light to-custom-medium min-h-screen font-sans">
    <div th:replace="~{fragments/sidebar :: sidebar}"></div>
    <div class="content">
        <div class="ml-5 flex-1">
            <div th:replace="~{fragments/sidebar :: header}"></div>
            <main class="p-6 max-w-xl mx-auto">
                <h2 class="text-2xl font-bold mb-6">Ajouter un livre</h2>
                <form th:action="@{/livres}" th:object="${livre}" method="post"
                    class="space-y-4 bg-white rounded-xl shadow-md p-6 border-l-4 border-custom-dark">
                    <div>
                        <label for="titre" class="block font-medium mb-1 text-custom-dark">Titre</label>
                        <input type="text" id="titre" name="titre" th:field="*{titre}"
                            class="form-input w-full border rounded p-2" required>
                    </div>
                    <div>
                        <label for="isbn" class="block font-medium mb-1 text-custom-dark">ISBN</label>
                        <input type="text" id="isbn" name="isbn" th:field="*{isbn}"
                            class="form-input w-full border rounded p-2">
                    </div>
                    <div>
                        <label for="anneePublication" class="block font-medium mb-1 text-custom-dark">Année de
                            publication</label>
                        <input type="number" id="anneePublication" name="anneePublication"
                            th:field="*{anneePublication}" class="form-input w-full border rounded p-2">
                    </div>
                    <div>
                        <label for="resume" class="block font-medium mb-1 text-custom-dark">Résumé</label>
                        <textarea id="resume" name="resume" th:field="*{resume}"
                            class="form-input w-full border rounded p-2"></textarea>
                    </div>
                    <div>
                        <label for="editeur" class="block font-medium mb-1 text-custom-dark">Éditeur</label>
                        <select id="editeur" name="editeur.id" th:field="*{editeur}"
                            class="form-select w-full border rounded p-2">
                            <option th:each="ed : ${editeurs}" th:value="${ed.id}" th:text="${ed.nom}"></option>
                        </select>
                    </div>
                    <div>
                        <label for="auteur" class="block font-medium mb-1 text-custom-dark">Auteur</label>
                        <select id="auteur" name="auteur.id" th:field="*{auteur}"
                            class="form-select w-full border rounded p-2" required>
                            <option th:each="a : ${auteurs}" th:value="${a.id}" th:text="${a.nom + ' ' + a.prenom}">
                            </option>
                        </select>
                    </div>
                    <div>
                        <label for="categories" class="block font-medium mb-1 text-custom-dark">Catégories</label>
                        <select id="categories" name="categories" th:field="*{categories}" multiple
                            class="form-select w-full border rounded p-2">
                            <option th:each="cat : ${categories}" th:value="${cat.id}" th:text="${cat.nom}"></option>
                        </select>
                        <p class="text-xs text-gray-500 mt-1">(Maintenez Ctrl ou Cmd pour sélectionner plusieurs
                            catégories)</p>
                    </div>
                    <div>
                        <label for="quantiteExemplaires" class="block font-medium mb-1 text-custom-dark">Nombre
                            d'exemplaires</label>
                        <input type="number" id="quantiteExemplaires" name="quantiteExemplaires" min="1" value="1"
                            class="form-input w-full border rounded p-2" required>
                    </div>
                    <div class="flex items-center space-x-4 mt-4">
                        <button type="submit"
                            class="bg-custom-dark text-white px-4 py-2 rounded hover:bg-custom-darker transition">Valider</button>
                        <a href="/livres"
                            class="bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 transition">Annuler</a>
                    </div>
                </form>
            </main>
        </div>
    </div>
    <script th:src="@{/js/main.js}"></script>
    <script th:src="@{/js/config_tailwind.js}"></script>
</body>

</html>