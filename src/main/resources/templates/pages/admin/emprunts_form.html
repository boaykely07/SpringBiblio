<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Nouvel Emprunt</title>
    <link rel="stylesheet" href="/css/main.css">
</head>

<body class="bg-gradient-to-br from-custom-light to-custom-medium min-h-screen font-sans">

    <div th:replace="fragments/sidebar :: sidebar"></div>
    <div class="content">
        <!-- Main Content -->
        <div class="ml-5 flex-1">
            <div th:replace="fragments/sidebar :: header">
                <!-- <h2 class="text-2xl font-bold mb-6">Créer un nouvel emprunt</h2>
        <form th:action="@{/emprunts}" th:object="${emprunt}" method="post" class="space-y-4">
            <div>
                <label for="exemplaire" class="block font-medium">Exemplaire</label>
                <select id="exemplaire" name="exemplaire.id" class="form-select w-full" required>
                    <option th:each="ex : ${exemplaires}" th:value="${ex.id}"
                        th:text="|${ex.livre.titre} (ID: ${ex.id})|">Exemplaire</option>
                </select>
            </div>
            <div>
                <label for="adherent" class="block font-medium">Adhérent</label>
                <select id="adherent" name="adherent.id" class="form-select w-full" required>
                    <option th:each="ad : ${adherents}" th:value="${ad.id}" th:text="|${ad.nom} ${ad.prenom}|">Adhérent
                    </option>
                </select>
            </div>
            <div>
                <label for="typeEmprunt" class="block font-medium">Type d'emprunt</label>
                <select id="typeEmprunt" name="typeEmprunt.id" class="form-select w-full" required>
                    <option th:each="type : ${typesEmprunt}" th:value="${type.id}" th:text="${type.nomType}">Type
                    </option>
                </select>
            </div>
            <div>
                <label for="dateEmprunt" class="block font-medium">Date d'emprunt</label>
                <input type="datetime-local" id="dateEmprunt" name="dateEmprunt" class="form-input w-full" required
                    th:value="${#dates.format(emprunt.dateEmprunt, 'yyyy-MM-dd\" T\"HH:mm')}">
            </div>
            <div>
                <label for="dateRetourPrevue" class="block font-medium">Date retour prévue</label>
                <input type="datetime-local" id="dateRetourPrevue" name="dateRetourPrevue" class="form-input w-full"
                    required th:value="${#dates.format(emprunt.dateRetourPrevue, 'yyyy-MM-dd\" T\"HH:mm')}">
            </div>
            <div>
                <button type="submit" class="btn btn-primary">Valider l'emprunt</button>
                <a href="/emprunts" class="btn btn-secondary ml-2">Annuler</a>
            </div> -->
                </form>
            </div>
        </div>
    </div>
</body>
<script>
    // Set current date
    const now = new Date();
    const options = {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    };
    document.getElementById('current-date').textContent = now.toLocaleDateString('fr-FR', options);

    // Mobile menu toggle
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('-translate-x-full');
    });

    // Add hover effects to cards
    const cards = document.querySelectorAll('.hover\\:shadow-lg');
    cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-2px)';
        });

        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0)';
        });
    });

    // Simulate real-time updates
    setInterval(() => {
        const notifications = document.querySelector('.animate-pulse');
        if (notifications) {
            notifications.style.opacity = notifications.style.opacity === '0' ? '1' : '0';
        }
    }, 2000);

    // Add click animations to buttons
    const buttons = document.querySelectorAll('button');
    buttons.forEach(button => {
        button.addEventListener('click', function (e) {
            const ripple = document.createElement('span');
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.classList.add('ripple');

            this.appendChild(ripple);

            setTimeout(() => {
                ripple.remove();
            }, 600);
        });
    });
</script>

<style>
    .ripple {
        position: absolute;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.6);
        transform: scale(0);
        animation: ripple 0.6s linear;
        pointer-events: none;
    }

    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }

    /* Responsive sidebar */
    @media (max-width: 1024px) {
        #sidebar {
            transform: translateX(-100%);
        }

        .ml-64 {
            margin-left: 0;
        }
    }

    /* Smooth transitions */
    * {
        transition: all 0.2s ease-in-out;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #E7EFC7;
    }

    ::-webkit-scrollbar-thumb {
        background: #AEC8A4;
        border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #8A784E;
    }
</style>
<script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                colors: {
                    'custom-light': '#E7EFC7',
                    'custom-medium': '#AEC8A4',
                    'custom-dark': '#8A784E',
                    'custom-darker': '#3B3B1A',
                },
                animation: {
                    'fade-in': 'fadeIn 0.5s ease-in-out',
                    'slide-up': 'slideUp 0.3s ease-out',
                    'pulse-subtle': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                },
                keyframes: {
                    fadeIn: {
                        '0%': { opacity: '0' },
                        '100%': { opacity: '1' }
                    },
                    slideUp: {
                        '0%': { transform: 'translateY(10px)', opacity: '0' },
                        '100%': { transform: 'translateY(0)', opacity: '1' }
                    }
                }
            }
        }
    }
</script>
<style>
    .content {
        margin-left: 220px;
        padding: 20px;
    }
</style>

</html>